# database_service.yml

asyncapi: 2.0.0
info:
  title: Database Service API
  version: '0.1'
  description: Definition of the Database Service API

channels:
  sec/IngestBegin:
    publish:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/ingestionBegin'
  sec/CompensateBegin:
    publish:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/genericMessage'
  sec/SnapshotDbBegin:
    publish:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/genericMessage'
  sec/CleanupBegin:
    publish:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/genericMessage'   
  database/BodyResponse:
    publish:
      message:
         $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/responseBody'
  rdf/RdfRequest:
    subscribe:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/rdfRequest'
  rdf/RdfConceptRequest:
    subscribe:
      message: 
        $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/rdfConceptRequest'   
  database/end:
    subscribe:
      message:
         $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/genericMessage'
  database/fail:
    subscribe:
      message:
         $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components2.yml#/components/messages/genericMessage'
