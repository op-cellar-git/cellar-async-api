asyncapi: 2.0.0
info:
  title: Validation Service API
  version: '0.1'
  description: Definition of the Validation Service API

channels:
  ValidationService:
    publish:
      message:
        payload:
          type: object
          properties:
            msg:
              type: string
              maximum: 1
              minimum: 1
              description: type of description requested.
              enum:
                - PrelockValidationBegin
                - PostlockValidationBegin
                - SnapshotValidationBegin
        traits:
        - $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components.yml#/components/messageTraits/commonHeaders'  
    subscribe:
      message:
        payload:
          type: object
          properties:
            msg:
              type: string
              maximum: 1
              minimum: 1
              description: type of description requested.
              enum:
                - PrelockValidationEnd
                - PostlockValidationEnd
                - SnapshotValidationEnd
                - Fail
        traits:
        - $ref: 'https://raw.githubusercontent.com/op-cellar-git/cellar-transaction/master/apis/asyncapi/shared_components/shared_components.yml#/components/messageTraits/commonHeaders'  
